// 帖子数据类型定义
export interface Comment {
  id: string;
  author: string;
  content: string;
  date: string;
  likes: number;
}

export interface Post {
  id: string;
  title: string;
  content: string;
  author: string;
  date: string;
  views: number;
  comments: Comment[] | number;
  likes: number;
  tags: string[];
}

// 导出帖子数组，初始化为模拟数据
export const forumPosts: Post[] = [
  {
    id: 'p1',
    title: '刚看完《霸王别姬》，想聊聊虞姬的表演艺术',
    content: `周末有幸观看了梅派经典《霸王别姬》，被虞姬的"和为歌"和"自刎"那段彻底震撼。

梅派的虞姬有一种独特的柔美与坚毅，尤其是那段唱词"汉兵已略地，四方楚歌声，大王意气尽，贱妾何聊生"，唱腔委婉动人又带着一种决绝的气质。

想请教各位戏迷，梅兰芳、李玉芙和李胜素三位名家的虞姬各有什么不同的艺术特点？大家更喜欢哪一种表演风格？

另外，这出戏中霸王和虞姬的关系表现得相当细腻，不知道大家有什么看法？`,
    author: '梅派新粉',
    date: '2024-04-08',
    views: 568,
    comments: [
      {
        id: 'c1',
        author: '老戏迷',
        content: '梅先生的虞姬更重视"神韵"，气质超凡脱俗；李玉芙继承了梅派的精髓，但更加注重细节；李胜素则在保留传统的同时加入了自己的理解，唱腔更为饱满。个人更偏爱梅派原汁原味的演绎。',
        date: '2024-04-08',
        likes: 15
      },
      {
        id: 'c2',
        author: '京剧研究者',
        content: '霸王与虞姬的关系是这出戏的精髓。在短短一出戏中，表现了从相濡以沫到生死诀别的全过程，虞姬的牺牲既是对爱情的忠贞，也是对霸王精神的一种延续。很高兴看到新戏迷对这些细节有如此深入的感受！',
        date: '2024-04-09',
        likes: 23
      },
      {
        id: 'c3',
        author: '票友小张',
        content: '我最近也在学这出戏的片段，确实唱腔非常难把握。梅派的特点是"甜而不媚，柔而有骨"，这在虞姬这个角色上体现得淋漓尽致。建议你可以多听几版录音，特别是梅先生早期的留声机唱片，虽然音质不佳，但艺术价值极高。',
        date: '2024-04-10',
        likes: 8
      }
    ],
    likes: 47,
    tags: ['演出分享', '梅派']
  },
  {
    id: 'p2',
    title: '【戏迷打卡】北京最值得去的京剧演出场所推荐',
    content: `作为一个在北京生活多年的京剧迷，我想分享一下我心目中最值得打卡的几个京剧演出场所：

1. 梅兰芳大剧院：北京最重要的京剧专业剧场之一，经常有名家演出，尤其是每年的梅兰芳纪念演出季必去。地址在东城区朝阳门北小街36号。

2. 长安大戏院：位于前门附近，是老北京的标志性剧场，有"天下第一戏楼"之称。这里的常规演出"北京京剧院梅兰芳京剧团演出季"是京剧爱好者必看的。

3. 湖广会馆：位于琉璃厂附近，是清代四大会馆之一，现在成为戏曲博物馆，偶尔也有小型演出，环境古朴，很有氛围。

4. 北京人艺实验剧场：虽然不是专门的京剧剧场，但经常有创新性的京剧演出，适合想看不一样风格京剧的朋友。

5. 国家大剧院：硬件设施一流，重要节日和纪念日经常有大型京剧演出，但票价较高。

大家有没有其他推荐的好去处？或者分享在这些地方看戏的经历？`,
    author: '京城戏迷',
    date: '2024-04-05',
    views: 721,
    comments: [
      {
        id: 'c4',
        author: '外地游客',
        content: '感谢推荐！我下个月去北京旅游，正愁不知道去哪里看正宗的京剧。请问这些剧场需要提前多久购票？有没有适合京剧新手的入门剧目推荐？',
        date: '2024-04-06',
        likes: 7
      },
      {
        id: 'c5',
        author: '老北京',
        content: '补充一个，后海九剧场也不错，虽然小但很有艺术气息，经常有年轻京剧演员的创新演出。另外，建议楼主可以提一下各个剧场的订票方式，对外地游客很有帮助。',
        date: '2024-04-07',
        likes: 18
      }
    ],
    likes: 89,
    tags: ['戏迷打卡', '场所推荐']
  },
  {
    id: 'p3',
    title: '分享我收集的京剧老照片（珍贵历史资料）',
    content: '这些年收集了不少上世纪初至80年代的京剧老照片，有些是非常珍贵的历史资料，今天分享给大家...',
    author: '京剧文物控',
    date: '2024-04-01',
    views: 896,
    comments: 72,
    likes: 126,
    tags: ['历史资料', '老照片']
  },
  {
    id: 'p4',
    title: '我的京剧学习之路——从门外汉到票友的心路历程',
    content: '三年前我还完全不懂京剧，如今已经能唱几出小段了。想和大家分享我的学习经验和心得体会...',
    author: '票友小王',
    date: '2024-03-25',
    views: 632,
    comments: 48,
    likes: 75,
    tags: ['学习心得', '票友经验']
  },
  {
    id: 'p5',
    title: '观《穆桂英挂帅》后感——当代女性视角的解读',
    content: '上周末看了张火丁老师的《穆桂英挂帅》，想从当代女性的视角谈谈对这个角色的理解...',
    author: '现代女性',
    date: '2024-03-20',
    views: 543,
    comments: 38,
    likes: 62,
    tags: ['观后感', '女性视角']
  },
];

// 初始化函数，从本地存储加载帖子数据
export function initPosts() {
  try {
    // 从本地存储中获取帖子
    const savedPosts = localStorage.getItem('forumPosts');
    
    if (savedPosts) {
      // 解析本地存储的帖子数据
      const parsedPosts = JSON.parse(savedPosts) as Post[];
      
      // 清空当前数组并添加从本地存储加载的数据
      forumPosts.length = 0;
      forumPosts.push(...parsedPosts);
    } else {
      // 如果本地存储没有数据，将当前数据保存到本地存储
      localStorage.setItem('forumPosts', JSON.stringify(forumPosts));
    }
  } catch (error) {
    console.error('初始化帖子数据失败:', error);
    // 出错时不做任何操作，使用默认数据
  }
} 